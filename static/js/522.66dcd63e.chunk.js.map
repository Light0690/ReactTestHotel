{"version":3,"file":"static/js/522.66dcd63e.chunk.js","mappings":"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","sources":["webpack://react-test-hotel-front/./src/components/UI/UiFormButton/UiFormButton.module.scss?1172","components/UI/UiFormButton/UiFormButton.tsx","webpack://react-test-hotel-front/./src/components/UI/UiFormInput/UiFormInput.module.scss?7a9d","components/UI/UiFormInput/UiFormInput.tsx","webpack://react-test-hotel-front/./src/components/UI/UiAlert/UiAlert.module.scss?91f3","components/UI/UiAlert/UiAlert.tsx","components/UX/FetchWithError/FetchWithError.tsx","webpack://react-test-hotel-front/./src/components/Login/Form/Form.module.scss?b66d","components/Login/Form/Form.tsx","webpack://react-test-hotel-front/./src/pages/Login/Login.module.scss?62e7","pages/Login/Login.tsx","redux/hooks.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"UiFormButton_button__OrVLS\",\"button__disabled\":\"UiFormButton_button__disabled__6HuEe\"};","import cn from \"classnames\";\r\n\r\nimport styles from \"./UiFormButton.module.scss\";\r\n\r\ninterface Props {\r\n  disabled: boolean;\r\n  title: string;\r\n}\r\n\r\nconst UiFormButton = ({ disabled, title }: Props) => {\r\n  return (\r\n    <button\r\n      type=\"submit\"\r\n      disabled={disabled}\r\n      className={cn(styles.button, disabled && styles.button__disabled)}\r\n    >\r\n      {title}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UiFormButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"UiFormInput_container__1+Xua\",\"container__label\":\"UiFormInput_container__label__CdKyZ\",\"container__input\":\"UiFormInput_container__input__yIVHo\",\"container__errors\":\"UiFormInput_container__errors__NKStg\",\"container__error\":\"UiFormInput_container__error__KIFsK\"};","import { ChangeEventHandler, FocusEventHandler } from \"react\";\r\nimport cn from \"classnames\";\r\n\r\nimport styles from \"./UiFormInput.module.scss\";\r\n\r\ninterface Props {\r\n  name: string;\r\n  type: string;\r\n  title: string;\r\n  onChange: ChangeEventHandler<HTMLInputElement>;\r\n  onBlur: FocusEventHandler<HTMLInputElement>;\r\n  value: string | number;\r\n  errors: string | undefined;\r\n  touched: boolean | undefined;\r\n}\r\n\r\nconst UiFormInput = ({\r\n  name,\r\n  type,\r\n  title,\r\n  onChange,\r\n  onBlur,\r\n  value,\r\n  errors,\r\n  touched,\r\n}: Props) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <label\r\n        className={cn(\r\n          styles.container__label,\r\n          touched && errors && styles.container__errors,\r\n        )}\r\n        htmlFor={name}\r\n      >\r\n        {title}\r\n      </label>\r\n      <input\r\n        name={name}\r\n        type={type}\r\n        className={styles.container__input}\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n      />\r\n      {touched && errors && (\r\n        <div className={styles.container__error}>{errors}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UiFormInput;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"UiAlert_wrapper__991nd\",\"appear\":\"UiAlert_appear__d3GkI\",\"wrapper__hidden\":\"UiAlert_wrapper__hidden__dx1Rl\",\"hidden\":\"UiAlert_hidden__kKBdz\"};","import cn from \"classnames\";\r\n\r\nimport styles from \"./UiAlert.module.scss\";\r\n\r\ninterface Props {\r\n  message: String;\r\n  isHidden: Boolean;\r\n}\r\n\r\nconst UiAlert = ({ message, isHidden }: Props) => {\r\n  return (\r\n    <div className={cn(styles.wrapper, isHidden ? styles.wrapper__hidden : \"\")}>\r\n      <h3>{message}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UiAlert;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport UiAlert from \"@components/UI/UiAlert/UiAlert\";\r\n\r\ninterface Props {\r\n  error: String;\r\n}\r\n\r\nconst FetchWithError = ({ error }: Props) => {\r\n  const [isHidden, setIsHidden] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setIsHidden(false);\r\n\r\n    setTimeout(() => {\r\n      setIsHidden(true);\r\n    }, 5000);\r\n  }, [error]);\r\n\r\n  return <>{error && <UiAlert message={error} isHidden={isHidden} />}</>;\r\n};\r\n\r\nexport default FetchWithError;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__XCz-c\",\"form__title\":\"Form_form__title__5ImvZ\",\"form__footer\":\"Form_form__footer__bNvvk\",\"form__link\":\"Form_form__link__klVjY\"};","import * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { isEmptyObj } from \"minoru\";\r\nimport { Navigate, Link } from \"react-router-dom\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"@redux/hooks\";\r\nimport { authSelector } from \"@redux/slices/Auth/authSlice\";\r\n\r\nimport UiFormButton from \"@components/UI/UiFormButton\";\r\nimport UiFormInput from \"@components/UI/UiFormInput\";\r\n\r\nimport styles from \"./Form.module.scss\";\r\n\r\ninterface Props {\r\n  header: string;\r\n  text: JSX.Element;\r\n  link: JSX.Element;\r\n  onSubmitFunc: Function;\r\n}\r\n\r\nexport const Form = ({ header, text, link, onSubmitFunc }: Props) => {\r\n  const isAuth = useAppSelector(authSelector);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"test@mail.ru\",\r\n      password: \"qweqweqwe\",\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      email: Yup.string()\r\n        .email(\"*некорректный email\")\r\n        .required(\"*поле обязательно\"),\r\n      password: Yup.string()\r\n        .matches(/^[^А-яёЁ]+$/, \"*поле не может содержать кириллицу\")\r\n        .min(8, \"*слишком короткий пороль\")\r\n        .required(\"*поле обязательно\"),\r\n    }),\r\n    onSubmit: ({ email, password }) => {\r\n      dispatch(onSubmitFunc({ email, password }));\r\n    },\r\n  });\r\n\r\n  if (isAuth) {\r\n    return <Navigate to={\"/\"} />;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} className={styles.form}>\r\n      <h1 className={styles.form__title}>{header}</h1>\r\n      <UiFormInput\r\n        name=\"email\"\r\n        title=\"Логин\"\r\n        type=\"email\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.email}\r\n        errors={formik.errors.email}\r\n        touched={formik.touched.email}\r\n      />\r\n      <UiFormInput\r\n        name=\"password\"\r\n        type=\"password\"\r\n        title=\"Пороль\"\r\n        onChange={formik.handleChange}\r\n        onBlur={formik.handleBlur}\r\n        value={formik.values.password}\r\n        errors={formik.errors.password}\r\n        touched={formik.touched.password}\r\n      />\r\n      <div className={styles.form__footer}>\r\n        <UiFormButton title={\"Войти\"} disabled={!isEmptyObj(formik.errors)} />\r\n        <div className={styles.form__link}>\r\n          {text}\r\n          <Link to=\"\">{link}</Link>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Login_wrapper__G1eby\",\"blur\":\"Login_blur__ApDQM\"};","import { useState } from \"react\";\r\n\r\nimport { useAppSelector } from \"@redux/hooks\";\r\nimport { errorSelector } from \"@redux/slices/Auth/authSlice\";\r\n\r\nimport { fetchAuth } from \"@redux/async/Auth/fetchAuth\";\r\nimport { fetchRegistr } from \"@redux/async/Auth/fetchRegistr\";\r\n\r\nimport Form from \"@components/Login/Form\";\r\nimport FetchWithError from \"@ux/FetchWithError\";\r\n\r\nimport styles from \"./Login.module.scss\";\r\n\r\nconst Login = () => {\r\n  const error = useAppSelector(errorSelector);\r\n  const [isLoginForm, setIsLoginForm] = useState(true);\r\n\r\n  const RegistrTextTSX = <p>Уже есть аккаунт?</p>;\r\n  const RegistrLinkTSX = (\r\n    <p onClick={() => setIsLoginForm((prev) => !prev)}>Логин</p>\r\n  );\r\n  const LoginTextTSX = <p>Ещё нет аккаунта?</p>;\r\n  const LoginLinkTSX = (\r\n    <p onClick={() => setIsLoginForm((prev) => !prev)}>Регистрация</p>\r\n  );\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.blur}>\r\n        {isLoginForm ? (\r\n          <Form\r\n            header={\"Логин\"}\r\n            text={LoginTextTSX}\r\n            link={LoginLinkTSX}\r\n            onSubmitFunc={fetchAuth}\r\n          />\r\n        ) : (\r\n          <Form\r\n            header={\"Регистрация\"}\r\n            text={RegistrTextTSX}\r\n            link={RegistrLinkTSX}\r\n            onSubmitFunc={fetchRegistr}\r\n          />\r\n        )}\r\n      </div>\r\n      <FetchWithError error={error} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"./store\";\r\n\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n"],"names":["_ref","disabled","title","_jsx","type","className","cn","styles","children","name","onChange","onBlur","value","errors","touched","_jsxs","htmlFor","message","isHidden","error","_useState","useState","_useState2","_slicedToArray","setIsHidden","useEffect","setTimeout","_Fragment","UiAlert","header","text","link","onSubmitFunc","isAuth","useAppSelector","authSelector","dispatch","useAppDispatch","formik","useFormik","initialValues","email","password","validationSchema","Yup","shape","required","matches","min","onSubmit","_ref2","Navigate","to","handleSubmit","UiFormInput","handleChange","handleBlur","values","UiFormButton","isEmptyObj","Link","errorSelector","isLoginForm","setIsLoginForm","RegistrTextTSX","RegistrLinkTSX","onClick","prev","LoginTextTSX","LoginLinkTSX","Form","fetchAuth","fetchRegistr","FetchWithError","useDispatch","useSelector"],"sourceRoot":""}