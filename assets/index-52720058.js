import{r as l,j as e}from"./react-b8fbf05d.js";import{c as x}from"./classnames-bc35a1ef.js";import{u as n,l as B,d as E,g as D,b as g,s as T,h as F,i as U,j as H,M as W,k as q,m as z,U as O,n as L,o as G,p as V,q as J,r as K,t as Q}from"./index-73473f46.js";import{c as Y,a as $,b as Z}from"./yup-79311ed6.js";import{u as ee}from"./formik-ecd829e3.js";import{i as re}from"./minoru-4fba79f4.js";import{U as v,a as se,F as te}from"./FetchWithError-b3024b40.js";import{c as ae,d as oe,F as ce,L as ne}from"./react-icons-87863f66.js";import{u as pe}from"./react-slider-62ee8d9e.js";import{m as j,A as ie}from"./framer-motion-55a73aab.js";import{U as _e}from"./UiButton-d75dad31.js";import{a as le}from"./react-router-67e23d4b.js";import{C as de}from"./react-content-loader-e574d110.js";import"./react-dom-b18fb4d6.js";import"./scheduler-765c72db.js";import"./react-router-dom-441412e9.js";import"./@remix-run-06a34d2a.js";import"./@reduxjs-a9bd0a2e.js";import"./immer-41fd5235.js";import"./redux-76ec1fc4.js";import"./@babel-19a2e885.js";import"./redux-thunk-ef899f4c.js";import"./axios-ce212671.js";import"./react-redux-910885b1.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./react-is-a192e302.js";import"./use-sync-external-store-7b52be53.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-84d4889b.js";import"./deepmerge-15f827de.js";import"./lodash-es-87d1a1d5.js";import"./react-fast-compare-b00643a1.js";import"./tiny-warning-c932d744.js";const me=576,he=768,ue=992,we=1200,xe=1400,R=()=>{const[s,a]=l.useState(window.innerWidth);return l.useEffect(()=>{const t=()=>{a(window.innerWidth)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),{width:s,isScreenSm:s>=me,isScreenMd:s>=he,isScreenLg:s>=ue,isScreenXl:s>=we,isScreenXxl:s>=xe}},je=()=>{const s=n(B),a=n(E),t=n(D),o=g(),c=p=>{o(T(p))},r=ee({initialValues:{location:s,checkInDate:a,countDays:t},validationSchema:Y().shape({location:$().required("*поле обязательно"),checkInDate:$().required("*поле обязательно"),countDays:Z().typeError("*поле должно содержать только цифры").required("*поле обязательно")}),onSubmit:c});return e.jsxs("form",{onSubmit:r.handleSubmit,className:"block",children:[e.jsx(v,{name:"location",title:"Локация",type:"string",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.location,errors:r.errors.location,touched:r.touched.location}),e.jsx(v,{name:"checkInDate",type:"date",title:"Дата заселения",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.checkInDate,errors:r.errors.checkInDate,touched:r.touched.checkInDate}),e.jsx(v,{name:"countDays",type:"number",title:"Количество дней",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.countDays,errors:r.errors.countDays,touched:r.touched.countDays}),e.jsx(se,{title:"Найти",disabled:!re(r.errors)})]})},ge="_wrapper_wju9q_1",ve="_wrapper_active_wju9q_7",C={wrapper:ge,wrapper_active:ve},A=({stars:s})=>e.jsx("div",{children:[...new Array(5)].map((a,t)=>e.jsx(ae,{className:x(C.wrapper,t+1<=s?C.wrapper_active:"")},t))}),fe="_wrapper__flex_1g14o_2",be="_wrapper__label_1g14o_6",f={wrapper__flex:fe,wrapper__customСheckbox:"_wrapper__customСheckbox_1g14o_6",wrapper__label:be},ye=()=>{const s=n(F),a=g(),t=c=>{a(U(c))},o=[...new Array(5)].map((c,r)=>e.jsxs("div",{className:f.wrapper__flex,children:[e.jsx("input",{onChange:()=>t(5-r),id:`div${r}`,type:"checkbox",checked:s.includes(5-r),className:f.wrapper__customСheckbox}),e.jsx("label",{htmlFor:`div${r}`,className:f.wrapper__label,children:e.jsx(A,{stars:5-r})})]},r));return e.jsxs("div",{className:"block",children:[e.jsx("h3",{children:"Количество звезд"}),o]})};const Se=()=>{const s=n(H),a=g(),t=o=>{a(z(o))};return e.jsxs("div",{className:"block",children:[e.jsx("h3",{children:"Цена за 1 ночь"}),e.jsxs("div",{children:["от ",s[0]," - до ",s[1]]}),e.jsx(pe,{className:"slider",onAfterChange:t,value:s,min:W,max:q})]})},Ne="_wrapper_1fzxf_1",ke={wrapper:Ne},I=()=>e.jsxs("div",{className:ke.wrapper,children:[e.jsx(je,{}),e.jsx(ye,{}),e.jsx(Se,{})]}),b="/ReactTestHotelFront/assets/carouselImg1-98a7278a.png",y="/ReactTestHotelFront/assets/carouselimg2-d3758693.png",S="/ReactTestHotelFront/assets/carouselimg3-32214e64.png",$e="_carousel_1m0km_1",Ce="_carousel__inner_1m0km_7",Ie="_carousel__item_1m0km_10",N={carousel:$e,carousel__inner:Ce,carousel__item:Ie},Be=()=>{const[s,a]=l.useState(0),t=l.useRef(null);l.useEffect(()=>{t.current&&a(t.current.scrollWidth-t.current.offsetWidth)},[]);const o=[b,y,S,b,y,S,b,y,S];return e.jsx(j.div,{ref:t,className:N.carousel,whileTap:"grabbing",children:e.jsx(j.div,{drag:"x",dragConstraints:{right:0,left:-s},className:N.carousel__inner,children:o.map((c,r)=>e.jsx(j.div,{className:N.carousel__item,children:e.jsx("img",{src:c})},r))})})},Ee="_wrapper_1xdfb_1",De="_flex_1xdfb_8",Fe="_wrapper__title_1xdfb_14",He="_wrapper__date_1xdfb_19",Le="_wrapper__price_1xdfb_23",Re="_icons_1xdfb_28",Ae="_icons__item_1xdfb_32",Pe="_icons__item_active_1xdfb_38",Xe="_hr_1xdfb_42",i={wrapper:Ee,flex:De,wrapper__title:Fe,wrapper__date:He,wrapper__price:Le,icons:Re,icons__item:Ae,icons__item_active:Pe,hr:Xe},Me=({_id:s,hotelName:a,checkInDate:t,days:o,priceAvg:c,stars:r,isFavorite:p})=>{const d=le(),h=()=>o===1?`${o} день`:o>1&&o<5?`${o} дня`:`${o} дней`,u=()=>{d(`/${s}`)};return e.jsxs("div",{className:i.wrapper,children:[e.jsxs("div",{className:i.flex,children:[e.jsx("h2",{className:i.wrapper__title,children:a}),e.jsx(O,{onClick:()=>console.log(1),isActive:p})]}),e.jsxs("div",{className:i.flex,children:[e.jsxs("div",{className:i.wrapper__date,children:[L(t)," - ",h()]}),e.jsxs("div",{className:i.wrapper__price,children:["от ",c," P"]})]}),e.jsxs("div",{className:i.flex,children:[e.jsx("div",{className:i.icons,children:e.jsx(A,{stars:r})}),e.jsx("div",{children:e.jsx(_e,{title:"забронировать",onClick:u})})]}),e.jsx("hr",{className:i.hr})]})},Te=()=>{const{width:s,isScreenLg:a}=R(),t=a?740:s*.8;return e.jsxs(de,{speed:2,width:t,height:86,viewBox:"0 0 740 86",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[e.jsx("rect",{x:"121",y:"15",rx:"10",ry:"10",width:"80",height:"20"}),e.jsx("rect",{x:"121",y:"39",rx:"10",ry:"10",width:"140",height:"20"}),e.jsx("rect",{x:"121",y:"65",rx:"10",ry:"10",width:"89",height:"20"}),e.jsx("rect",{x:"715",y:"14",rx:"10",ry:"10",width:"20",height:"20"}),e.jsx("circle",{cx:"45",cy:"48",r:"38"}),e.jsx("rect",{x:"668",y:"38",rx:"10",ry:"10",width:"70",height:"17"}),e.jsx("rect",{x:"650",y:"59",rx:"10",ry:"10",width:"89",height:"20"})]})},Ue="_wrapper_iednu_1",We="_wrapper__title_iednu_8",qe="_wrapper__group_iednu_13",ze="_wrapper__item_iednu_21",Oe="_wrapper__icon_iednu_27",Ge="_wrapper__circle_iednu_35",Ve="_wrapper__house_iednu_40",Je="_empty_iednu_47",_={wrapper:Ue,wrapper__title:We,wrapper__group:qe,wrapper__item:ze,wrapper__icon:Oe,wrapper__circle:Ge,wrapper__house:Ve,empty:Je},P=({hotels:s})=>{const a=n(G),t=n(V),o=s.length?s.map(({_id:r,hotelName:p,checkInDate:d,days:h,priceAvg:u,stars:X,isFavorite:M})=>e.jsxs("div",{className:_.wrapper__item,children:[e.jsxs("div",{className:_.wrapper__icon,children:[e.jsx(oe,{className:_.wrapper__circle}),e.jsx(ce,{className:_.wrapper__house})]}),e.jsx(Me,{_id:r,hotelName:p,checkInDate:d,days:h,priceAvg:u,stars:X,isFavorite:M})]},r)):e.jsx("h2",{className:_.empty,children:"Нет подходящих отелей"}),c=[...new Array(4)].map((r,p)=>e.jsx("div",{children:e.jsx(Te,{})},p));return e.jsxs("div",{className:_.wrapper,children:[e.jsxs("div",{className:_.wrapper__title,children:["Добавлено в избранное : ",e.jsx("b",{children:t.length})," отеля"]}),e.jsx("div",{className:_.wrapper__group,children:a?c:o})]})},Ke="_wrapper_pgi8p_1",Qe="_wrapper__title_pgi8p_7",Ye="_wrapper__name_pgi8p_12",Ze="_wrapper__symbol_pgi8p_20",er="_wrapper__date_pgi8p_23",rr="_wrapper__carousel_pgi8p_28",m={wrapper:Ke,wrapper__title:Qe,wrapper__name:Ye,wrapper__symbol:Ze,wrapper__date:er,wrapper__carousel:rr},sr=({location:s,checkInDate:a,hotels:t})=>e.jsxs("div",{className:x("block",m.wrapper),children:[e.jsxs("div",{className:m.wrapper__title,children:[e.jsxs("div",{className:m.wrapper__name,children:[e.jsx("div",{children:"Отели"}),e.jsx("div",{className:m.wrapper__symbol,children:">"}),e.jsx("div",{children:s})]}),e.jsx("div",{className:m.wrapper__date,children:L(a)})]}),e.jsx("div",{className:m.wrapper__carousel,children:e.jsx(Be,{})}),e.jsx(P,{hotels:t})]}),tr="_wrapper__button_1bsc0_1",ar="_wrapper__settingIcon_1bsc0_8",or="_wrapper__container_1bsc0_13",cr="_wrapper__block_1bsc0_22",w={wrapper__button:tr,wrapper__settingIcon:ar,wrapper__container:or,wrapper__block:cr},nr=({component:s})=>{const[a,t]=l.useState(!1),o=()=>{t(c=>!c)};return e.jsxs("div",{className:w.wrapper,children:[e.jsx("button",{className:x("block",w.wrapper__button),onClick:o,children:e.jsx(ne,{className:w.wrapper__settingIcon})}),e.jsx(ie,{children:a&&e.jsx("div",{className:w.wrapper__container,onClick:o,children:e.jsx(j.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:x("block",w.wrapper__block),onClick:c=>c.stopPropagation(),children:s},"PopupMenu")})})]})},pr="_wrapper_1sjoo_1",ir="_wrapper__container_1sjoo_11",_r="_wrapper__group_1sjoo_18",k={wrapper:pr,wrapper__container:ir,wrapper__group:_r},lr=()=>{const s=n(B),a=n(E),t=n(D),o=n(F),c=n(H),r=n(J),p=n(K),d=g(),{isScreenMd:h,isScreenXl:u}=R();return l.useEffect(()=>{d(Q({location:s,checkInDate:a,countDays:t,sortByStars:o,sortByPrice:c}))},[s,a,t,o,c,d]),e.jsxs("div",{className:k.wrapper,children:[e.jsxs("div",{className:k.wrapper__container,children:[u?e.jsx(I,{}):e.jsx(nr,{component:e.jsx(I,{})}),h?e.jsx(sr,{location:s,checkInDate:a,hotels:r}):e.jsx("div",{className:x("block",k.wrapper__group),children:e.jsx(P,{hotels:r})})]}),e.jsx(te,{error:p})]})},Or=lr;export{Or as default};
